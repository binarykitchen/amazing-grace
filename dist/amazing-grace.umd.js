!function(o,n){"object"==typeof exports&&"undefined"!=typeof module?n():"function"==typeof define&&define.amd?define(n):n()}(0,function(){var o=["SIGTERM","SIGINT","SIGUSR2"];module.exports=function(n,e){void 0===e&&(e={});var t=!1;return e.timeout=e.timeout||100,e.log=e.log||function(){},n.on("listening",function(){o.forEach(function(o){process.once(o,function(){!function(o,n){var i=setTimeout(function(){e.log("Could not close connections in %sms, forcefully shutting down",e.timeout),process.kill(process.pid,n)},e.timeout);t=!0,e.log("Received %s at %s, shutting down gracefully in %sms",n,(new Date).toString("T"),e.timeout),o.close(function(){clearTimeout(i),e.log("Closed out remaining connections"),process.kill(process.pid,n)})}(n,o)})})}),function(o,n,e){t&&o.connection.setTimeout(1),e()}}});
//# sourceMappingURL=amazing-grace.umd.js.map
